                                      ANSIBLE PLAYBOOK                 Date:10th Jan, 2018 
Ansible Process:
Server will connects to client username:ansadm through SSH (ssh ansadam@client) Client;
Then->server will install required packages on client machine;Then -> exit from client;->go back to server.
(Nothing to do with client)

login as: centos
Authenticating with public key "imported-openssh-key"
Last login: Thu Jan 10 02:28:03 2019 from 106.51.20.96
[centos@ip-172-30-0-186 ~]$ sudo su -
Last login: Thu Jan 10 02:28:10 UTC 2019 on pts/0
[root@ip-172-30-0-186 ~]# hostname Server  (#cmd to rename ip-address to any name# for example:Server)

[root@ip-172-30-0-186 ~]# su - ansadm(#ansadm=username)
Last login: Thu Jan 10 03:08:13 UTC 2019 on pts/0



1st Example (#httpd Installtion on client machine from server)


[ansadm@Server ~]$ vi test.yml

---
 - hosts: grp1 (#Group name)
   become: true
   tasks:
     - name: Installing HTTPD  (#This will print on screen while executing)
       yum: name=httpd state=present (#Name of module)




[ansadm@Server ~]$ ansible-playbook --syntax-check test.yml (#Syntax Check)

playbook: test.yml
[ansadm@Server ~]$ ansible-playbook test.yml --check (#Dry run)

PLAY [grp1] **************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [Installing HTTPD] **************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=2    changed=0    unreachable=0    failed=0

[ansadm@Server ~]$ ansible-playbook test.yml (#Execution)

PLAY [grp1] **************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [Installing HTTPD] **************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=2    changed=0    unreachable=0    failed=0




2nd Example (Php Installtion on client machine from server)

[ansadm@Server ~]$ vi php.yml 

---
 - hosts: grp1
   become: true
   tasks:
     - name: Check PHP is installed
       command: php -v
       register: php_installed
       ignore_errors:  true

     - name: printing register-output
       debug: var=php_installed

     - name: php installed
       debug: msg='php is installed'
       when: php_installed|success

     - name: php not installed
       debug: msg='php is not installed'
       when: php_installed|failed

[ansadm@Server ~]$ ansible-playbook --syntax-check php.yml (#Command to check syntax)

playbook: php.yml
[ansadm@Server ~]$ ansible-playbook php.yml --check  (#Command for dry run)

PLAY [grp1] **************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [Check PHP is installed] ********************************************************************************************
skipping: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [printing register-output] ******************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal] => {
    "php_installed": {
        "changed": false,
        "failed": false,
        "msg": "remote module (command) does not support check mode",
        "skipped": true
    }
}

TASK [php installed] *****************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal] => {
    "msg": "php is installed"
}

TASK [php not installed] *************************************************************************************************
skipping: [ip-172-30-0-32.ap-south-1.compute.internal]

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=3    changed=0    unreachable=0    failed=0

[ansadm@Server ~]$ ansible-playbook php.yml (#Command to execute CODE)

PLAY [grp1] **************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [Check PHP is installed] ********************************************************************************************
fatal: [ip-172-30-0-32.ap-south-1.compute.internal]: FAILED! => {"changed": false, "cmd": "php -v", "msg": "[Errno 2] No such file or directory", "rc": 2}
...ignoring

TASK [printing register-output] ******************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal] => {
    "php_installed": {
        "changed": false,
        "cmd": "php -v",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2
    }
}

TASK [php installed] *****************************************************************************************************
skipping: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [php not installed] *************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal] => {
    "msg": "php is not installed"
}

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=4    changed=0    unreachable=0    failed=0



2nd EXAMPLE

Note: For check the error "gave wrong package 'pxp' instead of php' and run the code.





3rd Example (#php Installtion)
[ansadm@Server ~]$ vi phptest.yml

---
 - hosts: grp1 (#group name)
   become: true
   tasks:
     - name: install php
       yum: name=php state=installed disable_gpg_check=yes
       register: php_install
       ignore_errors: true

     - name: checking php
       command: php -v
       when: php_install|success


[ansadm@Server ~]$ ansible-playbook --syntax-check php.yml (#Command to check syntax)
[ansadm@Server ~]$ ansible-playbook php.yml --check  (#Command for dry run)

[ansadm@Server ~]$ ansible-playbook phptest.yml (#Command to execute file)

PLAY [all] ***************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [install php] *******************************************************************************************************
changed: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [checking php] ******************************************************************************************************
changed: [ip-172-30-0-32.ap-south-1.compute.internal]

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=3    changed=2    unreachable=0    failed=0

[ansadm@Server ~]$ ansible-playbook phptest.yml -vvvv (#command to check background process on client from SERVER# -vvvv stands for display long o/p)
ansible-playbook 2.4.2.0
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/home/ansadm/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Apr 11 2018, 07:36:10) [GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]
Using /etc/ansible/ansible.cfg as config file
setting up inventory plugins
Parsed /etc/ansible/hosts inventory source with ini plugin
Loading callback plugin default of type stdout, v2.0 from /usr/lib/python2.7/site-packages/ansible/plugins/callback/__init__.pyc

PLAYBOOK: phptest.yml ****************************************************************************************************
1 plays in phptest.yml

PLAY [all] ***************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '/home/ansadm\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212 `" && echo ansible-tmp-1547093002.11-62522784333212="` echo /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212 `" ) && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, 'ansible-tmp-1547093002.11-62522784333212=/home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> PUT /tmp/tmp6Kv2Lf TO /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/setup.py
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC sftp -b - -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 '[ip-172-30-0-32.ap-south-1.compute.internal]'
<ip-172-30-0-32.ap-south-1.compute.internal> (0, 'sftp> put /tmp/tmp6Kv2Lf /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/setup.py\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug2: Remote version: 3\r\ndebug2: Server supports extension "posix-rename@openssh.com" revision 1\r\ndebug2: Server supports extension "statvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "fstatvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "hardlink@openssh.com" revision 1\r\ndebug2: Server supports extension "fsync@openssh.com" revision 1\r\ndebug3: Sent message fd 5 T:16 I:1\r\ndebug3: SSH_FXP_REALPATH . -> /home/ansadm size 0\r\ndebug3: Looking up /tmp/tmp6Kv2Lf\r\ndebug3: Sent message fd 5 T:17 I:2\r\ndebug3: Received stat reply T:101 I:2\r\ndebug1: Couldn\'t stat remote file: No such file or directory\r\ndebug3: Sent message SSH2_FXP_OPEN I:3 P:/home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/setup.py\r\ndebug3: Sent message SSH2_FXP_WRITE I:4 O:0 S:32768\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 4 32768 bytes at 0\r\ndebug3: Sent message SSH2_FXP_WRITE I:5 O:32768 S:32768\r\ndebug3: Sent message SSH2_FXP_WRITE I:6 O:65536 S:32768\r\ndebug3: Sent message SSH2_FXP_WRITE I:7 O:98304 S:32768\r\ndebug3: Sent message SSH2_FXP_WRITE I:8 O:131072 S:32768\r\ndebug3: Sent message SSH2_FXP_WRITE I:9 O:163840 S:32576\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 5 32768 bytes at 32768\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 6 32768 bytes at 65536\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 7 32768 bytes at 98304\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 8 32768 bytes at 131072\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 9 32576 bytes at 163840\r\ndebug3: Sent message SSH2_FXP_CLOSE I:4\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'chmod u+x /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/ /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/setup.py && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 -tt ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'sudo -H -S -n -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-jqeswtjvmonynvdqmupimnbtxytkfwzb; /usr/bin/python /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/setup.py; rm -rf "/home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/" > /dev/null 2>&1'"'"'"'"'"'"'"'"' && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '\r\n{"invocation": {"module_args": {"filter": "*", "gather_subset": ["all"], "fact_path": "/etc/ansible/facts.d", "gather_timeout": 10}}, "ansible_facts": {"facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_public_ipv4s": "13.126.71.251", "facter_operatingsystem": "CentOS", "facter_selinux_current_mode": "enforcing", "facter_hostname": "Client", "module_setup": true, "facter_uptime_hours": 25, "ansible_distribution_version": "7.5.1804", "facter_ec2_services_partition": "aws", "facter_sshfp_rsa": "SSHFP 1 1 a0f033d92fd64b59201c06f8cd72a5651c212af7\\nSSHFP 1 2 24e68472ee1a412b9e84756fd5c40e637c56bd021c953d9b0763b3d7184cc030", "ansible_distribution_file_variety": "RedHat", "ansible_env": {"USERNAME": "root", "LANG": "en_US.UTF-8", "TERM": "xterm", "SHELL": "/bin/bash", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-jqeswtjvmonynvdqmupimnbtxytkfwzb; /usr/bin/python /home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/setup.py; rm -rf \\"/home/ansadm/.ansible/tmp/ansible-tmp-1547093002.11-62522784333212/\\" > /dev/null 2>&1", "SHLVL": "1", "SUDO_UID": "1001", "SUDO_GID": "1001", "PWD": "/home/ansadm", "LOGNAME": "root", "USER": "root", "PATH": "/sbin:/bin:/usr/sbin:/usr/bin", "MAIL": "/var/mail/ansadm", "SUDO_USER": "ansadm", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:", "HOME": "/root", "_": "/usr/bin/python"}, "facter_ec2_local_hostname": "ip-172-30-0-32.ap-south-1.compute.internal", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_subnet_ipv4_cidr_block": "172.30.0.0/24", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_owner_id": "721004282117", "facter_gid": "root", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "facter_ec2_hostname": "ip-172-30-0-32.ap-south-1.compute.internal", "ansible_default_ipv4": {"macaddress": "02:2d:74:17:b7:da", "network": "172.30.0.0", "mtu": 9001, "broadcast": "172.30.0.255", "alias": "eth0", "netmask": "255.255.255.0", "address": "172.30.0.32", "interface": "eth0", "type": "ether", "gateway": "172.30.0.1"}, "ansible_swapfree_mb": 0, "ansible_default_ipv6": {}, "facter_uuid": "EC28A8BD-B0D1-A56A-3E43-D93BF83A37A3", "facter_ec2_local_ipv4": "172.30.0.32", "ansible_cmdline": {"LANG": "en_US.UTF-8", "console": "ttyS0,115200", "crashkernel": "auto", "BOOT_IMAGE": "/boot/vmlinuz-3.10.0-862.3.2.el7.x86_64", "ro": true, "root": "UUID=8c1540fa-e2b4-407d-bcd1-59848a73e463"}, "ansible_system_vendor": "Xen", "ansible_selinux": {"status": "enabled", "policyvers": 31, "type": "targeted", "mode": "enforcing", "config_mode": "enforcing"}, "facter_ec2_public_hostname": "ec2-13-126-71-251.ap-south-1.compute.amazonaws.com", "ansible_userspace_architecture": "x86_64", "ansible_product_uuid": "EC28A8BD-B0D1-A56A-3E43-D93BF83A37A3", "facter_blockdevice_xvda_size": 8589934592, "ansible_pkg_mgr": "yum", "ansible_service_mgr": "systemd", "facter_filesystems": "iso9660,xfs", "ansible_memory_mb": {"real": {"total": 990, "used": 511, "free": 479}, "swap": {"cached": 0, "total": 0, "free": 0, "used": 0}, "nocache": {"used": 172, "free": 818}}, "ansible_distribution": "CentOS", "ansible_user_dir": "/root", "facter_puppetversion": "3.8.7", "facter_ec2_placement_availability_zone": "ap-south-1a", "ansible_all_ipv6_addresses": ["fe80::2d:74ff:fe17:b7da"], "facter_operatingsystemrelease": "7.5.1804", "ansible_uptime_seconds": 90501, "ansible_kernel": "3.10.0-862.3.2.el7.x86_64", "facter_bios_version": "4.2.amazon", "ansible_system_capabilities_enforced": "True", "ansible_python": {"executable": "/usr/bin/python", "version": {"micro": 5, "major": 2, "releaselevel": "final", "serial": 0, "minor": 7}, "type": "CPython", "has_sslcontext": true, "version_info": [2, 7, 5, "final", 0]}, "ansible_user_shell": "/bin/bash", "facter_selinux_config_policy": "targeted", "facter_ec2_reservation_id": "r-0e53a74dc0ab7a6be", "facter_architecture": "x86_64", "facter_swapfree_mb": "0.00", "facter_macaddress_eth0": "02:2d:74:17:b7:da", "facter_ec2_events_maintenance_scheduled": "[]", "ansible_product_serial": "ec28a8bd-b0d1-a56a-3e43-d93bf83a37a3", "ansible_form_factor": "Other", "facter_fqdn": "Client.ap-south-1.compute.internal", "ansible_distribution_file_parsed": true, "ansible_fips": false, "facter_system_uptime": {"seconds": 90501, "hours": 25, "uptime": "1 day", "days": 1}, "ansible_user_id": "root", "ansible_selinux_python_present": true, "facter_os": {"release": {"major": "7", "full": "7.5.1804", "minor": "5"}, "name": "CentOS", "family": "RedHat"}, "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_subnet_id": "subnet-0a38f85569544af2c", "facter_operatingsystemmajrelease": "7", "facter_manufacturer": "Xen", "ansible_local": {}, "facter_augeasversion": "1.4.0", "facter_memorysize": "990.13 MB", "facter_path": "/sbin:/bin:/usr/sbin:/usr/bin", "ansible_processor_vcpus": 1, "facter_network_eth0": "172.30.0.0", "ansible_processor": ["0", "GenuineIntel", "Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz"], "facter_is_virtual": true, "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPmWiMMaWLiN7T5BnD5go2V8fLD7VrqAPd3UTIgdpCJWHHCXFHiz1W+z0OcIzeMiLLUtRypiBoFB3VXaRBm627M=", "facter_ec2_ami_manifest_path": "(unknown)", "ansible_mounts": [{"block_used": 264710, "uuid": "8c1540fa-e2b4-407d-bcd1-59848a73e463", "size_total": 8578400256, "block_total": 2094336, "mount": "/", "block_available": 1829626, "size_available": 7494148096, "fstype": "xfs", "inode_total": 4193792, "options": "rw,seclabel,relatime,attr2,inode64,noquota", "device": "/dev/xvda1", "inode_used": 30374, "block_size": 4096, "inode_available": 4163418}], "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_vpc_ipv4_cidr_blocks": "172.30.0.0/16", "facter_selinux_policyversion": "31", "facter_sshed25519key": "AAAAC3NzaC1lZDI1NTE5AAAAILvrZLw8y19mnP0KL/EBIGnarje+U8GVnUbtpaMuXoV2", "ansible_virtualization_role": "guest", "ansible_swaptotal_mb": 0, "facter_selinux_config_mode": "enforcing", "facter_selinux": true, "facter_rubyversion": "2.0.0", "ansible_dns": {"nameservers": ["172.30.0.2"], "search": ["ap-south-1.compute.internal"]}, "ansible_distribution_major_version": "7", "facter_ec2_instance_type": "t2.micro", "ansible_real_group_id": 0, "ansible_lsb": {}, "facter_memoryfree": "787.84 MB", "facter_memorysize_mb": "990.13", "facter_kernelmajversion": "3.10", "ansible_machine": "x86_64", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABAQDnRNUJT7tYtjFXmjKxVfOhqn+rG0jLaxOwfmLL5IyDfQexg2OBDQa7nWMuL8udd/o6+ySo91GWl0cwZD4ulx6v3ulbPM6JaXo76HTYriuLmHQWxkRyjdPfgwQogrQsrtZTBi7+358TWiJfh5M1Tdh4YB+Iz1+IhkdlQ90/n+BbmhL2CK+5LCk81bKBxndX8m02ghw1dU7OlwSP57QB2F/BIUCUcd9BghiSypw7s36RgXUGA2p2J72/0SXJ7z9WH8WT0XZOro/MmXPmGCn5F2xXXeO2N7BNuE6DwPVxRPQd/y4uUQJ7d3FmnR1JurwSq9ycoOhKwnVj/bhgs1Fh4qyf", "facter_ipaddress": "172.30.0.32", "facter_swapsize_mb": "0.00", "ansible_processor_threads_per_core": 1, "facter_serialnumber": "ec28a8bd-b0d1-a56a-3e43-d93bf83a37a3", "facter_ec2_ami_id": "ami-1780a878", "ansible_eth0": {"macaddress": "02:2d:74:17:b7:da", "features": {"tx_checksum_ipv4": "on [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "on", "tx_scatter_gather_fraglist": "off [fixed]", "rx_all": "off [fixed]", "highdma": "off [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "off [fixed]", "tx_tcp_ecn_segmentation": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_gso_robust": "on [fixed]", "tx_ipip_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "off [fixed]", "busy_poll": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_nocache_copy": "off", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_sit_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "pciid": "vif-0", "module": "xen_netfront", "mtu": 9001, "device": "eth0", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "172.30.0.255", "netmask": "255.255.255.0", "network": "172.30.0.0", "address": "172.30.0.32"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::2d:74ff:fe17:b7da"}], "active": true, "type": "ether", "hw_timestamp_filters": []}, "ansible_nodename": "Client", "ansible_product_name": "HVM domU", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_interface_id": "eni-03b56f8ec41297812", "facter_mtu_lo": 65536, "ansible_all_ipv4_addresses": ["172.30.0.32"], "ansible_python_version": "2.7.5", "facter_kernel": "Linux", "facter_sshecdsakey": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPmWiMMaWLiN7T5BnD5go2V8fLD7VrqAPd3UTIgdpCJWHHCXFHiz1W+z0OcIzeMiLLUtRypiBoFB3VXaRBm627M=", "ansible_product_version": "4.2.amazon", "facter_ec2_public_ipv4": "13.126.71.251", "facter_uptime_seconds": 90501, "facter_uptime_days": 1, "ansible_memtotal_mb": 990, "facter_ec2_profile": "default-hvm", "facter_partitions": {"xvda1": {"mount": "/", "size": "16775168", "uuid": "8c1540fa-e2b4-407d-bcd1-59848a73e463", "filesystem": "xfs"}}, "gather_subset": ["all"], "facter_bios_release_date": "08/24/2006", "facter_processor0": "Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_security_group_ids": "sg-07c91d5dcec5edc18", "facter_ec2_public_keys_0_openssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCT453T2aYwzXZmqQ7Zqh7jBsJDqHpAg7RxbYmU2FGjuQbyBsbU8Veh+mcsxhkIKq9CjXP67geKe+VDukHXGZhO97+FEk4aQv6lVjA3LXU9FHnrDl8oNscIgd+s4kqV4lc6r+7m/Nd8e8PqGlShtrN28NZ9aDxJEl0x/4h+JXu7mEDa2pFtM3aDuQDjFElzWNNGYqb99E2r24rZX9r9IMQ41TWl43qjkb3eItSSSeA5zkz36rd9jra9EWm3rHu9AFnyZ17xrYXSUDlXdnwlkhlWZeeTzl9WYmCxsHsFtnnfv4xAoKzA8Ne27dC//39HWjGNyZ/NVpy0XBXCkx9OmOzh Git", "facter_rubysitedir": "/usr/local/share/ruby/site_ruby/", "ansible_device_links": {"masters": {}, "labels": {}, "ids": {}, "uuids": {"xvda1": ["8c1540fa-e2b4-407d-bcd1-59848a73e463"]}}, "ansible_real_user_id": 0, "facter_macaddress": "02:2d:74:17:b7:da", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_device_number": "0", "facter_ec2_product_codes": "aw0evgkw8e5c1q413zgy5pjce", "ansible_effective_group_id": 0, "facter_ec2_ami_launch_index": "0", "facter_productname": "HVM domU", "ansible_lo": {"features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "rx_all": "off [fixed]", "highdma": "on [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_gso_robust": "off [fixed]", "tx_ipip_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "on [fixed]", "loopback": "on [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "on [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on [fixed]", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "busy_poll": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_nocache_copy": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "on", "tx_sctp_segmentation": "on", "tx_sit_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "hw_timestamp_filters": [], "mtu": 65536, "device": "lo", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "host", "netmask": "255.0.0.0", "network": "127.0.0.0", "address": "127.0.0.1"}, "ipv6": [{"scope": "host", "prefix": "128", "address": "::1"}], "active": true, "type": "loopback"}, "facter_swapsize": "0.00 MB", "facter_blockdevices": "xvda", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_vpc_id": "vpc-0da3f0ea94da967ae", "facter_facterversion": "2.4.6", "facter_ec2_instance_id": "i-0503cd76416ebab84", "facter_netmask_eth0": "255.255.255.0", "ansible_apparmor": {"status": "disabled"}, "facter_hardwareisa": "x86_64", "facter_interfaces": "eth0,lo", "facter_virtual": "xenhvm", "facter_domain": "ap-south-1.compute.internal", "facter_processorcount": 1, "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_security_groups": "CentOS 7 -x86_64- - with Updates HVM-1805_01-AutogenByAWSMP-7", "facter_netmask_lo": "255.0.0.0", "facter_swapfree": "0.00 MB", "ansible_memfree_mb": 479, "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_mac": "02:2d:74:17:b7:da", "facter_mtu_eth0": 9001, "facter_kernelversion": "3.10.0", "facter_processors": {"models": ["Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz"], "count": 1, "physicalcount": 1}, "facter_ipaddress_lo": "127.0.0.1", "ansible_processor_count": 1, "facter_uniqueid": "1eac2000", "ansible_hostname": "Client", "ansible_virtualization_type": "xen", "facter_sshfp_ecdsa": "SSHFP 3 1 5ca4d97aa393b596a0443f69c32bdf2950166c06\\nSSHFP 3 2 4169c37260c1e6e11efdd166503a53dd47b2b378a5713d0927c670fa7e620c5a", "ansible_interfaces": ["lo", "eth0"], "ansible_machine_id": "b30d0f2110ac3807b210c19ede3ce88f", "facter_ipaddress_eth0": "172.30.0.32", "facter_network_lo": "127.0.0.0", "ansible_fqdn": "Client", "ansible_user_gid": 0, "facter_bios_vendor": "Xen", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_vpc_ipv4_cidr_block": "172.30.0.0/16", "facter_ps": "ps -ef", "facter_netmask": "255.255.255.0", "facter_ec2_security_groups": "CentOS 7 -x86_64- - with Updates HVM-1805_01-AutogenByAWSMP-7", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_public_hostname": "ec2-13-126-71-251.ap-south-1.compute.amazonaws.com", "facter_rubyplatform": "x86_64-linux", "ansible_user_gecos": "root", "facter_ec2_metrics_vhostmd": "<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>", "facter_osfamily": "RedHat", "ansible_domain": "", "ansible_distribution_file_path": "/etc/redhat-release", "facter_timezone": "UTC", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAILvrZLw8y19mnP0KL/EBIGnarje+U8GVnUbtpaMuXoV2", "ansible_processor_cores": 1, "ansible_bios_version": "4.2.amazon", "ansible_date_time": {"weekday_number": "4", "iso8601_basic_short": "20190110T040322", "tz": "UTC", "weeknumber": "01", "hour": "04", "year": "2019", "minute": "03", "tz_offset": "+0000", "month": "01", "epoch": "1547093002", "iso8601_micro": "2019-01-10T04:03:22.509398Z", "weekday": "Thursday", "time": "04:03:22", "date": "2019-01-10", "iso8601": "2019-01-10T04:03:22Z", "day": "10", "iso8601_basic": "20190110T040322509294", "second": "22"}, "facter_ec2_metadata": {"product-codes": "aw0evgkw8e5c1q413zgy5pjce", "services": {"domain": "amazonaws.com", "partition": "aws"}, "instance-type": "t2.micro", "instance-id": "i-0503cd76416ebab84", "local-hostname": "ip-172-30-0-32.ap-south-1.compute.internal", "network": {"interfaces": {"macs": {"02:2d:74:17:b7:da": {"local-hostname": "ip-172-30-0-32.ap-south-1.compute.internal", "security-groups": "CentOS 7 -x86_64- - with Updates HVM-1805_01-AutogenByAWSMP-7", "interface-id": "eni-03b56f8ec41297812", "public-hostname": "ec2-13-126-71-251.ap-south-1.compute.amazonaws.com", "vpc-ipv4-cidr-blocks": "172.30.0.0/16", "subnet-id": "subnet-0a38f85569544af2c", "device-number": "0", "public-ipv4s": "13.126.71.251", "mac": "02:2d:74:17:b7:da", "security-group-ids": "sg-07c91d5dcec5edc18", "local-ipv4s": "172.30.0.32", "owner-id": "721004282117", "subnet-ipv4-cidr-block": "172.30.0.0/24", "ipv4-associations": {"13.126.71.251": "172.30.0.32"}, "vpc-ipv4-cidr-block": "172.30.0.0/16", "vpc-id": "vpc-0da3f0ea94da967ae"}}}}, "hostname": "ip-172-30-0-32.ap-south-1.compute.internal", "ami-id": "ami-1780a878", "instance-action": "none", "events": {"maintenance": {"scheduled": "[]", "history": "[]"}}, "profile": "default-hvm", "reservation-id": "r-0e53a74dc0ab7a6be", "security-groups": "CentOS 7 -x86_64- - with Updates HVM-1805_01-AutogenByAWSMP-7", "metrics": {"vhostmd": "<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>"}, "mac": "02:2d:74:17:b7:da", "public-ipv4": "13.126.71.251", "ami-manifest-path": "(unknown)", "local-ipv4": "172.30.0.32", "placement": {"availability-zone": "ap-south-1a"}, "ami-launch-index": "0", "public-hostname": "ec2-13-126-71-251.ap-south-1.compute.amazonaws.com", "public-keys": {"0": {"openssh-key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCT453T2aYwzXZmqQ7Zqh7jBsJDqHpAg7RxbYmU2FGjuQbyBsbU8Veh+mcsxhkIKq9CjXP67geKe+VDukHXGZhO97+FEk4aQv6lVjA3LXU9FHnrDl8oNscIgd+s4kqV4lc6r+7m/Nd8e8PqGlShtrN28NZ9aDxJEl0x/4h+JXu7mEDa2pFtM3aDuQDjFElzWNNGYqb99E2r24rZX9r9IMQ41TWl43qjkb3eItSSSeA5zkz36rd9jra9EWm3rHu9AFnyZ17xrYXSUDlXdnwlkhlWZeeTzl9WYmCxsHsFtnnfv4xAoKzA8Ne27dC//39HWjGNyZ/NVpy0XBXCkx9OmOzh Git"}}, "block-device-mapping": {"ami": "/dev/sda1", "root": "/dev/sda1"}}, "facter_memoryfree_mb": "787.84", "ansible_distribution_release": "Core", "ansible_os_family": "RedHat", "ansible_effective_user_id": 0, "facter_ec2_block_device_mapping_root": "/dev/sda1", "facter_sshfp_ed25519": "SSHFP 4 1 54e6b3f370b876cf11b9f835fa0f0117f76bb351\\nSSHFP 4 2 906d6d720a1e085e8019e73a0e56b446a9890a11138321aedf9544f8f2abfee4", "ansible_system": "Linux", "ansible_devices": {"xvda": {"scheduler_mode": "deadline", "rotational": "0", "vendor": null, "sectors": "16777216", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {"xvda1": {"sectorsize": 512, "uuid": "8c1540fa-e2b4-407d-bcd1-59848a73e463", "links": {"masters": [], "labels": [], "ids": [], "uuids": ["8c1540fa-e2b4-407d-bcd1-59848a73e463"]}, "sectors": "16775168", "start": "2048", "holders": [], "size": "8.00 GB"}}, "holders": [], "size": "8.00 GB"}}, "ansible_user_uid": 0, "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_ipv4_associations_13.126.71.251": "172.30.0.32", "facter_ec2_block_device_mapping_ami": "/dev/sda1", "facter_ec2_instance_action": "none", "ansible_bios_date": "08/24/2006", "facter_selinux_enforced": true, "facter_ec2_services_domain": "amazonaws.com", "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_local_ipv4s": "172.30.0.32", "facter_uptime": "1 day", "facter_id": "root", "ansible_system_capabilities": ["cap_chown", "cap_dac_override", "cap_dac_read_search", "cap_fowner", "cap_fsetid", "cap_kill", "cap_setgid", "cap_setuid", "cap_setpcap", "cap_linux_immutable", "cap_net_bind_service", "cap_net_broadcast", "cap_net_admin", "cap_net_raw", "cap_ipc_lock", "cap_ipc_owner", "cap_sys_module", "cap_sys_rawio", "cap_sys_chroot", "cap_sys_ptrace", "cap_sys_pacct", "cap_sys_admin", "cap_sys_boot", "cap_sys_nice", "cap_sys_resource", "cap_sys_time", "cap_sys_tty_config", "cap_mknod", "cap_lease", "cap_audit_write", "cap_audit_control", "cap_setfcap", "cap_mac_override", "cap_mac_admin", "cap_syslog", "35", "36+ep"], "facter_ec2_network_interfaces_macs_02:2d:74:17:b7:da_local_hostname": "ip-172-30-0-32.ap-south-1.compute.internal", "facter_sshrsakey": "AAAAB3NzaC1yc2EAAAADAQABAAABAQDnRNUJT7tYtjFXmjKxVfOhqn+rG0jLaxOwfmLL5IyDfQexg2OBDQa7nWMuL8udd/o6+ySo91GWl0cwZD4ulx6v3ulbPM6JaXo76HTYriuLmHQWxkRyjdPfgwQogrQsrtZTBi7+358TWiJfh5M1Tdh4YB+Iz1+IhkdlQ90/n+BbmhL2CK+5LCk81bKBxndX8m02ghw1dU7OlwSP57QB2F/BIUCUcd9BghiSypw7s36RgXUGA2p2J72/0SXJ7z9WH8WT0XZOro/MmXPmGCn5F2xXXeO2N7BNuE6DwPVxRPQd/y4uUQJ7d3FmnR1JurwSq9ycoOhKwnVj/bhgs1Fh4qyf", "facter_ec2_events_maintenance_history": "[]", "facter_hardwaremodel": "x86_64", "facter_kernelrelease": "3.10.0-862.3.2.el7.x86_64", "facter_type": "Other", "facter_ec2_mac": "02:2d:74:17:b7:da", "facter_physicalprocessorcount": 1}}\r\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\nShared connection to ip-172-30-0-32.ap-south-1.compute.internal closed.\r\n')
ok: [ip-172-30-0-32.ap-south-1.compute.internal]
META: ran handlers

TASK [install php] *******************************************************************************************************
task path: /home/ansadm/phptest.yml:5
Using module file /usr/lib/python2.7/site-packages/ansible/modules/packaging/os/yum.py
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '/home/ansadm\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947 `" && echo ansible-tmp-1547093003.52-246786731472947="` echo /home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947 `" ) && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, 'ansible-tmp-1547093003.52-246786731472947=/home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> PUT /tmp/tmpSI86ha TO /home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947/yum.py
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC sftp -b - -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 '[ip-172-30-0-32.ap-south-1.compute.internal]'
<ip-172-30-0-32.ap-south-1.compute.internal> (0, 'sftp> put /tmp/tmpSI86ha /home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947/yum.py\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug2: Remote version: 3\r\ndebug2: Server supports extension "posix-rename@openssh.com" revision 1\r\ndebug2: Server supports extension "statvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "fstatvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "hardlink@openssh.com" revision 1\r\ndebug2: Server supports extension "fsync@openssh.com" revision 1\r\ndebug3: Sent message fd 5 T:16 I:1\r\ndebug3: SSH_FXP_REALPATH . -> /home/ansadm size 0\r\ndebug3: Looking up /tmp/tmpSI86ha\r\ndebug3: Sent message fd 5 T:17 I:2\r\ndebug3: Received stat reply T:101 I:2\r\ndebug1: Couldn\'t stat remote file: No such file or directory\r\ndebug3: Sent message SSH2_FXP_OPEN I:3 P:/home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947/yum.py\r\ndebug3: Sent message SSH2_FXP_WRITE I:4 O:0 S:32768\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 4 32768 bytes at 0\r\ndebug3: Sent message SSH2_FXP_WRITE I:5 O:32768 S:32768\r\ndebug3: Sent message SSH2_FXP_WRITE I:6 O:65536 S:32768\r\ndebug3: Sent message SSH2_FXP_WRITE I:7 O:98304 S:611\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 5 32768 bytes at 32768\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 6 32768 bytes at 65536\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 7 611 bytes at 98304\r\ndebug3: Sent message SSH2_FXP_CLOSE I:4\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'chmod u+x /home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947/ /home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947/yum.py && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 -tt ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'sudo -H -S -n -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-ygxtbxwaaccywdltublockqcyfymeruv; /usr/bin/python /home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947/yum.py; rm -rf "/home/ansadm/.ansible/tmp/ansible-tmp-1547093003.52-246786731472947/" > /dev/null 2>&1'"'"'"'"'"'"'"'"' && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '\r\n{"msg": "", "invocation": {"module_args": {"allow_downgrade": false, "name": ["php"], "list": null, "disable_gpg_check": true, "conf_file": null, "install_repoquery": true, "state": "installed", "disablerepo": null, "update_cache": false, "enablerepo": null, "exclude": null, "security": false, "validate_certs": true, "installroot": "/", "skip_broken": false}}, "changed": false, "results": ["php-5.4.16-46.el7.x86_64 providing php is already installed"], "rc": 0}\r\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\nShared connection to ip-172-30-0-32.ap-south-1.compute.internal closed.\r\n')
ok: [ip-172-30-0-32.ap-south-1.compute.internal] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_downgrade": false,
            "conf_file": null,
            "disable_gpg_check": true,
            "disablerepo": null,
            "enablerepo": null,
            "exclude": null,
            "install_repoquery": true,
            "installroot": "/",
            "list": null,
            "name": [
                "php"
            ],
            "security": false,
            "skip_broken": false,
            "state": "installed",
            "update_cache": false,
            "validate_certs": true
        }
    },
    "msg": "",
    "rc": 0,
    "results": [
        "php-5.4.16-46.el7.x86_64 providing php is already installed"
    ]
}

TASK [checking php] ******************************************************************************************************
task path: /home/ansadm/phptest.yml:10
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '/home/ansadm\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986 `" && echo ansible-tmp-1547093004.09-186134030448986="` echo /home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986 `" ) && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, 'ansible-tmp-1547093004.09-186134030448986=/home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> PUT /tmp/tmpqMS_KM TO /home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986/command.py
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC sftp -b - -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 '[ip-172-30-0-32.ap-south-1.compute.internal]'
<ip-172-30-0-32.ap-south-1.compute.internal> (0, 'sftp> put /tmp/tmpqMS_KM /home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986/command.py\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug2: Remote version: 3\r\ndebug2: Server supports extension "posix-rename@openssh.com" revision 1\r\ndebug2: Server supports extension "statvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "fstatvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "hardlink@openssh.com" revision 1\r\ndebug2: Server supports extension "fsync@openssh.com" revision 1\r\ndebug3: Sent message fd 5 T:16 I:1\r\ndebug3: SSH_FXP_REALPATH . -> /home/ansadm size 0\r\ndebug3: Looking up /tmp/tmpqMS_KM\r\ndebug3: Sent message fd 5 T:17 I:2\r\ndebug3: Received stat reply T:101 I:2\r\ndebug1: Couldn\'t stat remote file: No such file or directory\r\ndebug3: Sent message SSH2_FXP_OPEN I:3 P:/home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986/command.py\r\ndebug3: Sent message SSH2_FXP_WRITE I:4 O:0 S:32768\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 4 32768 bytes at 0\r\ndebug3: Sent message SSH2_FXP_WRITE I:5 O:32768 S:32768\r\ndebug3: Sent message SSH2_FXP_WRITE I:6 O:65536 S:1255\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 5 32768 bytes at 32768\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 6 1255 bytes at 65536\r\ndebug3: Sent message SSH2_FXP_CLOSE I:4\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'chmod u+x /home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986/ /home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986/command.py && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
<ip-172-30-0-32.ap-south-1.compute.internal> ESTABLISH SSH CONNECTION FOR USER: None
<ip-172-30-0-32.ap-south-1.compute.internal> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/ansadm/.ansible/cp/4829aa84e9 -tt ip-172-30-0-32.ap-south-1.compute.internal '/bin/sh -c '"'"'sudo -H -S -n -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-xefwhyyyujcwoogabiekbebunioyzfvl; /usr/bin/python /home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986/command.py; rm -rf "/home/ansadm/.ansible/tmp/ansible-tmp-1547093004.09-186134030448986/" > /dev/null 2>&1'"'"'"'"'"'"'"'"' && sleep 0'"'"''
<ip-172-30-0-32.ap-south-1.compute.internal> (0, '\r\n{"changed": true, "end": "2019-01-10 04:03:24.330907", "stdout": "PHP 5.4.16 (cli) (built: Oct 30 2018 19:30:51) \\nCopyright (c) 1997-2013 The PHP Group\\nZend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies", "cmd": ["php", "-v"], "rc": 0, "start": "2019-01-10 04:03:24.315591", "stderr": "", "delta": "0:00:00.015316", "invocation": {"module_args": {"warn": true, "executable": null, "_uses_shell": false, "_raw_params": "php -v", "removes": null, "creates": null, "chdir": null, "stdin": null}}}\r\n', 'OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 9947\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\nShared connection to ip-172-30-0-32.ap-south-1.compute.internal closed.\r\n')
changed: [ip-172-30-0-32.ap-south-1.compute.internal] => {
    "changed": true,
    "cmd": [
        "php",
        "-v"
    ],
    "delta": "0:00:00.015316",
    "end": "2019-01-10 04:03:24.330907",
    "invocation": {
        "module_args": {
            "_raw_params": "php -v",
            "_uses_shell": false,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": true
        }
    },
    "rc": 0,
    "start": "2019-01-10 04:03:24.315591",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "PHP 5.4.16 (cli) (built: Oct 30 2018 19:30:51) \nCopyright (c) 1997-2013 The PHP Group\nZend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies",
    "stdout_lines": [
        "PHP 5.4.16 (cli) (built: Oct 30 2018 19:30:51) ",
        "Copyright (c) 1997-2013 The PHP Group",
        "Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies"
    ]
}
META: ran handlers
META: ran handlers

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=3    changed=1    unreachable=0    failed=0

[ansadm@Server ~]$ ansible-playbook phptest.yml -vv
ansible-playbook 2.4.2.0
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/home/ansadm/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Apr 11 2018, 07:36:10) [GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]
Using /etc/ansible/ansible.cfg as config file

PLAYBOOK: phptest.yml ****************************************************************************************************
1 plays in phptest.yml

PLAY [all] ***************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]
META: ran handlers

TASK [install php] *******************************************************************************************************
task path: /home/ansadm/phptest.yml:5
ok: [ip-172-30-0-32.ap-south-1.compute.internal] => {"changed": false, "msg": "", "rc": 0, "results": ["php-5.4.16-46.el7.x86_64 providing php is already installed"]}

TASK [checking php] ******************************************************************************************************
task path: /home/ansadm/phptest.yml:10
changed: [ip-172-30-0-32.ap-south-1.compute.internal] => {"changed": true, "cmd": ["php", "-v"], "delta": "0:00:00.015185", "end": "2019-01-10 04:03:31.956525", "rc": 0, "start": "2019-01-10 04:03:31.941340", "stderr": "", "stderr_lines": [], "stdout": "PHP 5.4.16 (cli) (built: Oct 30 2018 19:30:51) \nCopyright (c) 1997-2013 The PHP Group\nZend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies", "stdout_lines": ["PHP 5.4.16 (cli) (built: Oct 30 2018 19:30:51) ", "Copyright (c) 1997-2013 The PHP Group", "Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies"]}
META: ran handlers
META: ran handlers

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=3    changed=1    unreachable=0    failed=0

[ansadm@Server ~]$ ansible-playbook phptest.yml -v (#commad to check background process of client from server#-v stands to print short display of output)
Using /etc/ansible/ansible.cfg as config file

PLAY [all] ***************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal]

TASK [install php] *******************************************************************************************************
ok: [ip-172-30-0-32.ap-south-1.compute.internal] => {"changed": false, "msg": "", "rc": 0, "results": ["php-5.4.16-46.el7.x86_64 providing php is already installed"]}

TASK [checking php] ******************************************************************************************************
changed: [ip-172-30-0-32.ap-south-1.compute.internal] => {"changed": true, "cmd": ["php", "-v"], "delta": "0:00:00.015004", "end": "2019-01-10 04:03:41.066286", "rc": 0, "start": "2019-01-10 04:03:41.051282", "stderr": "", "stderr_lines": [], "stdout": "PHP 5.4.16 (cli) (built: Oct 30 2018 19:30:51) \nCopyright (c) 1997-2013 The PHP Group\nZend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies", "stdout_lines": ["PHP 5.4.16 (cli) (built: Oct 30 2018 19:30:51) ", "Copyright (c) 1997-2013 The PHP Group", "Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies"]}

PLAY RECAP ***************************************************************************************************************
ip-172-30-0-32.ap-south-1.compute.internal : ok=3    changed=1    unreachable=0    failed=0

----------------------------------------------------END-----------------------------------------------------------------------9999