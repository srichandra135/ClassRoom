Commands for Class Traing from pragathi tech.
https://github.com/Devops-Grp/puppetsingle/blob/master/package.pp

login as: centos
Authenticating with public key "imported-openssh-key"
Last login: Wed Dec 19 02:48:56 2018 from 106.51.21.30
[centos@ip-172-30-0-232 ~]$ sudo su -
Last login: Wed Dec 19 02:49:07 UTC 2018 on pts/1
[root@ip-172-30-0-232 ~]# puppet config print
cfacter = false
confdir = /etc/puppet
vardir = /var/lib/puppet
name = config
logdir = /var/log/puppet
log_level = notice
disable_warnings = []
priority =
trace = false
profile = false
autoflush = true
syslogfacility = daemon
statedir = /var/lib/puppet/state
rundir = /var/run/puppet
genconfig = false
genmanifest = false
configprint =
color = ansi
mkusers = false
manage_internal_file_permissions = true
onetime = false
path = none
libdir = /var/lib/puppet/lib
ignoreimport = false
environment = production
environmentpath =
always_cache_features = false
diff_args = -u
diff = diff
show_diff = false
daemonize = true
maximum_uid = 4294967290
route_file = /etc/puppet/routes.yaml
node_terminus = plain
node_cache_terminus =
data_binding_terminus = hiera
hiera_config = /etc/puppet/hiera.yaml
binder = false
binder_config =
catalog_terminus = compiler
catalog_cache_terminus =
facts_terminus = facter
inventory_terminus = facter
default_file_terminus = rest
httplog = /var/log/puppet/http.log
http_proxy_host = none
http_proxy_port = 3128
http_proxy_user = none
http_proxy_password = none
http_keepalive_timeout = 4
http_debug = false
filetimeout = 15
environment_timeout = 0
queue_type = stomp
queue_source = stomp://localhost:61613/
async_storeconfigs = false
thin_storeconfigs = false
config_version =
zlib = true
prerun_command =
postrun_command =
freeze_main = false
stringify_facts = true
trusted_node_data = false
immutable_node_data = false
preview_outputdir = /var/lib/puppet/preview
module_repository = https://forgeapi.puppetlabs.com
module_working_dir = /var/lib/puppet/puppet-module
module_skeleton_dir = /var/lib/puppet/puppet-module/skeleton
forge_authorization =
module_groups =
certname = ip-172-30-0-232.ap-south-1.compute.internal
certdnsnames =
dns_alt_names =
csr_attributes = /etc/puppet/csr_attributes.yaml
certdir = /var/lib/puppet/ssl/certs
ssldir = /var/lib/puppet/ssl
publickeydir = /var/lib/puppet/ssl/public_keys
requestdir = /var/lib/puppet/ssl/certificate_requests
privatekeydir = /var/lib/puppet/ssl/private_keys
privatedir = /var/lib/puppet/ssl/private
passfile = /var/lib/puppet/ssl/private/password
hostcsr = /var/lib/puppet/ssl/csr_ip-172-30-0-232.ap-south-1.compute.internal.pe                                                                                        m
hostcert = /var/lib/puppet/ssl/certs/ip-172-30-0-232.ap-south-1.compute.internal                                                                                        .pem
hostprivkey = /var/lib/puppet/ssl/private_keys/ip-172-30-0-232.ap-south-1.comput                                                                                        e.internal.pem
hostpubkey = /var/lib/puppet/ssl/public_keys/ip-172-30-0-232.ap-south-1.compute.                                                                                        internal.pem
localcacert = /var/lib/puppet/ssl/certs/ca.pem
ssl_client_ca_auth =
ssl_server_ca_auth =
hostcrl = /var/lib/puppet/ssl/crl.pem
certificate_revocation = true
certificate_expire_warning = 5184000
digest_algorithm = md5
ca_name = Puppet CA: ip-172-30-0-232.ap-south-1.compute.internal
cadir = /var/lib/puppet/ssl/ca
cacert = /var/lib/puppet/ssl/ca/ca_crt.pem
cakey = /var/lib/puppet/ssl/ca/ca_key.pem
capub = /var/lib/puppet/ssl/ca/ca_pub.pem
cacrl = /var/lib/puppet/ssl/ca/ca_crl.pem
caprivatedir = /var/lib/puppet/ssl/ca/private
csrdir = /var/lib/puppet/ssl/ca/requests
signeddir = /var/lib/puppet/ssl/ca/signed
capass = /var/lib/puppet/ssl/ca/private/ca.pass
serial = /var/lib/puppet/ssl/ca/serial
autosign = /etc/puppet/autosign.conf
allow_duplicate_certs = false
ca_ttl = 157680000
req_bits = 4096
keylength = 4096
cert_inventory = /var/lib/puppet/ssl/ca/inventory.txt
config_file_name = puppet.conf
config = /etc/puppet/puppet.conf
pidfile = /var/run/puppet/main.pid
bindaddress = 0.0.0.0
user = puppet
group = puppet
manifestdir = /etc/puppet/manifests
manifest = /etc/puppet/manifests/site.pp
default_manifest = ./manifests
disable_per_environment_manifest = false
code =
masterlog = /var/log/puppet/puppetmaster.log
masterhttplog = /var/log/puppet/masterhttp.log
masterport = 8140
node_name = cert
bucketdir = /var/lib/puppet/bucket
rest_authconfig = /etc/puppet/auth.conf
ca = true
basemodulepath = /etc/puppet/modules:/usr/share/puppet/modules
modulepath = /etc/puppet/modules:/usr/share/puppet/modules
ssl_client_header = HTTP_X_CLIENT_DN
ssl_client_verify_header = HTTP_X_CLIENT_VERIFY
yamldir = /var/lib/puppet/yaml
server_datadir = /var/lib/puppet/server_data
reports = store
reportdir = /var/lib/puppet/reports
reporturl = http://localhost:3000/reports/upload
fileserverconfig = /etc/puppet/fileserver.conf
strict_hostname_checking = false
rrddir = /var/lib/puppet/rrd
rrdinterval = 1800
devicedir = /var/lib/puppet/devices
deviceconfig = /etc/puppet/device.conf
node_name_value = ip-172-30-0-232.ap-south-1.compute.internal
node_name_fact =
localconfig = /var/lib/puppet/state/localconfig
statefile = /var/lib/puppet/state/state.yaml
clientyamldir = /var/lib/puppet/client_yaml
client_datadir = /var/lib/puppet/client_data
classfile = /var/lib/puppet/state/classes.txt
resourcefile = /var/lib/puppet/state/resources.txt
puppetdlog = /var/log/puppet/puppetd.log
server = puppet
use_srv_records = false
srv_domain = ap-south-1.compute.internal
ignoreschedules = false
default_schedules = true
puppetport = 8139
noop = false
runinterval = 1800
listen = false
ca_server = puppet
ca_port = 8140
catalog_format =
preferred_serialization_format = pson
report_serialization_format = pson
legacy_query_parameter_serialization = false
agent_catalog_run_lockfile = /var/lib/puppet/state/agent_catalog_run.lock
agent_disabled_lockfile = /var/lib/puppet/state/agent_disabled.lock
usecacheonfailure = true
use_cached_catalog = false
ignoremissingtypes = false
ignorecache = false
dynamicfacts = memorysize,memoryfree,swapsize,swapfree
splaylimit = 1800
splay = false
clientbucketdir = /var/lib/puppet/clientbucket
configtimeout = 120
report_server = puppet
report_port = 8140
inventory_server = puppet
inventory_port = 8140
report = true
lastrunfile = /var/lib/puppet/state/last_run_summary.yaml
lastrunreport = /var/lib/puppet/state/last_run_report.yaml
graph = false
graphdir = /var/lib/puppet/state/graphs
http_compression = false
waitforcert = 120
ordering = title-hash
archive_files = false
archive_file_server = puppet
plugindest = /var/lib/puppet/lib
pluginsource = puppet://puppet/plugins
pluginfactdest = /var/lib/puppet/facts.d
pluginfactsource = puppet://puppet/pluginfacts
pluginsync = true
pluginsignore = .svn CVS .git
factpath = /var/lib/puppet/lib/facter:/var/lib/puppet/facts
tagmap = /etc/puppet/tagmail.conf
sendmail = /sbin/sendmail
reportfrom = report@ip-172-30-0-232.ap-south-1.compute.internal
smtpserver = none
smtpport = 25
smtphelo = ip-172-30-0-232.ap-south-1.compute.internal
dblocation = /var/lib/puppet/state/clientconfigs.sqlite3
dbadapter = sqlite3
dbmigrate = false
dbname = puppet
dbserver = localhost
dbport =
dbuser = puppet
dbpassword = puppet
dbconnections =
dbsocket =
railslog = /var/log/puppet/rails.log
rails_loglevel = info
couchdb_url = http://127.0.0.1:5984/puppet
tags =
evaltrace = false
summarize = false
external_nodes = none
ldapssl = false
ldaptls = false
ldapserver = ldap
ldapport = 389
ldapstring = (&(objectclass=puppetClient)(cn=%s))
ldapclassattrs = puppetclass
ldapstackedattrs = puppetvar
ldapattrs = all
ldapparentattr = parentnode
ldapuser =
ldappassword =
ldapbase =
storeconfigs = false
storeconfigs_backend = active_record
templatedir = /var/lib/puppet/templates
allow_variables_with_dashes = false
parser = current
max_errors = 10
max_warnings = 10
max_deprecations = 10
strict_variables = false
document_all = false

[root@ip-172-30-0-232 ~]# puppet config print | grep -i port (Command to display masterport)
ignoreimport = false
http_proxy_port = 3128
masterport = 8140
reports = store
reportdir = /var/lib/puppet/reports
reporturl = http://localhost:3000/reports/upload
puppetport = 8139
ca_port = 8140
report_serialization_format = pson
report_server = puppet
report_port = 8140
inventory_port = 8140
report = true
lastrunreport = /var/lib/puppet/state/last_run_report.yaml
reportfrom = report@ip-172-30-0-232.ap-south-1.compute.internal
smtpport = 25
dbport =
ldapport = 389
[root@ip-172-30-0-232 ~]# puppet config print | grep -i module
module_repository = https://forgeapi.puppetlabs.com
module_working_dir = /var/lib/puppet/puppet-module
module_skeleton_dir = /var/lib/puppet/puppet-module/skeleton
module_groups =
basemodulepath = /etc/puppet/modules:/usr/share/puppet/modules
modulepath = /etc/puppet/modules:/usr/share/puppet/modules
[root@ip-172-30-0-232 ~]# puppet config print | grep -i env
environment = production
environmentpath =
environment_timeout = 0
disable_per_environment_manifest = false
[root@ip-172-30-0-232 ~]# cd /etc/puppet
[root@ip-172-30-0-232 puppet]# ls -all
total 28
drwxr-xr-x.  5 root root  117 Dec 18 03:09 .
drwxr-xr-x. 78 root root 8192 Dec 18 04:01 ..
-rw-r--r--.  1 root root 4178 Apr 25  2016 auth.conf
drwxr-xr-x.  3 root root   25 Dec 18 03:09 environments
-rw-r--r--.  1 root root 1462 Apr 25  2016 fileserver.conf
drwxr-xr-x.  2 root root    6 Apr 25  2016 manifests
drwxr-xr-x.  2 root root    6 Apr 25  2016 modules
-rw-r--r--.  1 root root  853 Apr 25  2016 puppet.conf

[root@ip-172-30-0-232 puppet]# cd manifests/
[root@ip-172-30-0-232 manifests]# ls
[root@ip-172-30-0-232 manifests]# cd ..
[root@ip-172-30-0-232 puppet]# cd modules/
[root@ip-172-30-0-232 modules]# ls
[root@ip-172-30-0-232 modules]# cd ../environments/
[root@ip-172-30-0-232 environments]# ls
example_env
[root@ip-172-30-0-232 environments]# ls -al
total 0
drwxr-xr-x. 3 root root  25 Dec 18 03:09 .
drwxr-xr-x. 5 root root 117 Dec 18 03:09 ..
drwxr-xr-x. 4 root root  64 Dec 18 03:09 example_env
[root@ip-172-30-0-232 environments]#
[root@ip-172-30-0-232 environments]# cd ../

[root@ip-172-30-0-232 puppet]# more puppet.conf (Command to display set the configuratiion for Main (master) & Agent)
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig
[root@ip-172-30-0-232 puppet]#
